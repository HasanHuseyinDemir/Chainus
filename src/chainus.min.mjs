let A={w:!0,rF:{},i:-1,oc:0,od:0,open:0},t={f:"function",s:"string",b:"boolean",n:"number",o:"object",u:"undefined",sa:"setAttribute",ga:"getAttribute",apc:"appendChild",fE:"forEach",lc:"toLowerCase",h:"#!?S?!#",t:"<a_></a_>",rA:"replaceAll",U:void 0,nV:"nodeValue"},j={apc(e,n){e[t.apc](n)},rpw(e,n){e.replaceWith(n)},ctN:e=>document.createTextNode(e),frg:()=>document.createDocumentFragment(),dce:e=>document.createElement(e),nm:()=>new Map,wm:()=>new WeakMap,qs:(e,n)=>e.querySelector(n),qsA:(e,n)=>e.querySelectorAll(n),tcC(e){e.textContent=""},ra(e,n){e.removeAttribute(n)},hop:(e,n)=>e.hasOwnProperty(n),iA:e=>Array.isArray(e),S:()=>Symbol(),i:()=>(A.i+=1,`_${A.i}_`),tN:e=>e.tagName[t.lc]()},D=j.nm(),[mS,hS,dS,CDs,SGS]=[j.S(),j.S(),j.S(),j.S(),j.S()],[CM,Elements]=[j.nm(),j.nm()],is=(e,n)=>typeof e==t[n],isTN=e=>e&&3===e.nodeType,sC=(e,n)=>{is(e,"s")&&is(n,"f")?CM.set(e[t.lc](),n):error({i:2,ty:"Component Setting",w:"Please use a string value as the name in the first parameter when specifying a component, and provide a function that creates the element."})},isD=e=>e instanceof Element||e instanceof HTMLElement||e instanceof DocumentFragment,L=e=>(n,r)=>{n[mS]||(n[mS]=HD({lf:{oC:null,oD:null}}));let s=e?"oC":"oD";A[e?"oc":"od"]=1,is(r,"f")&&(n[mS](hS).lf[s]=r)},ctw=e=>document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,null,!1),createElement=e=>document.createRange().createContextualFragment(e);function on(e,n,r){let s={};dA(e,s),e.addEventListener(n.substring(2),()=>r(e,s))}function dA(e,n){SP(e,CDs,1)[t.fE](e=>Object.assign(n,e[CDs](hS)))}function nM(e){let n=e,r=n.split("/>").length-1,s=0;for(;r>s;){let i=n.search("/>")-1,l=0,o="";for(;i-l>=-1;){if("<"==n.charAt(i-l)){let a=(o=o.split("").reverse().join("")).split(" ")[0],c=`<${a} ${o.replace(a,"")||""}></${a}>`;n=n.slice(0,i-l)+c+n.slice(i+3,n.length),s++,i="",l=0,o=""}else o+=n.charAt(i-l);l++}}return n}function HD(e){let n={...e};return(e,r)=>(function e(r,s){if(A.open||r===hS)return s&&(n=s),n;error({ty:"Access",i:2,w:"Unable to access data"})})(e,r)}function rP(e){let n=e[t.rA]("<>","<div>")[t.rA]("</>","</div>");return(n=n.includes("/>")?nM(n):n)[t.rA](/\{\.\#\!\}/g,t.t)}function iE(e,n){let r=[...n],s=e.reduce((e,n,s)=>{let i=n,l=r[s];return l!==t.U&&(is(l,"s")||is(l,"n")?(i+=l,r[s]=t.U):i+="{.#!}"),e+i},"");r=r.filter(e=>e!=t.U);let i=createElement(rP(s)).firstElementChild;return kY(i,r,i),i}function html(e,...n){return iE(e,[...n])}function sub(e,n){if(e[mS]){let r=n?"oC":"oD";e[mS]&&is(e[mS](hS).lf[r],"f")&&e[mS](hS).lf[r]()}}function SP(e,n,r){let s=e,i=[];for(;s&&s!==document.body&&s.parentNode;){if(s[n]){if(!r)return s;i.push(s)}s=s.parentNode}return r?i:null}HTMLElement.prototype.ref=function(e,n){let r=j.qsA(this,`[ref='${e}']`);return n&&r[t.fE](e=>j.ra(e,"ref")),Array.from(r).length>1?r:r[0]};let cFg=e=>{let n=j.frg();for(;e.childNodes.length;)j.apc(n,e.firstChild);return n},Mount=(e,n,r)=>{let s=is(n,"f")?n(r):n,i=e=>{e.firstChild!==n&&(j.tcC(e),j.apc(e,s))};is(e,"s")?j.qsA(document,e)[t.fE](e=>{i(e)}):isD(e)?i(e):error()};function untrack(e){sdb.rec();let n=e();return sdb.stop(),n}function filterID(e){return e.filter((e,n,r)=>r.findIndex(n=>n.id===e.id)===n)}function batch(e){bC=[],sdb.t.b=1,e(),sdb.t.b=0;filterID(bC)[t.fE](e=>sdb.prp(e)),bC=[]}function Effect(e,n){return e&&n?function r(){return n(),untrack(()=>e())}:e||void 0}function async(e,n,r){return async function(s){if(!A.rF[e])try{let i=await import(e);A.rF[e]={},Object.assign(A.rF[e],i)}catch(l){r?r(l):error({ty:"Promise",w:"Cannot reach the asynchronous module\nURL : '"+e+"'",t:"Enter a valid URL",i:2});return}let o=A.rF[e][n||"default"];return is(o,"f")?o(s):o}}function sAp(e,n,r,s,i){let l=e,o=r,a=CM.get(j.tN(e)),c=["fallback","onload","src","default","name","onfail"],[f,u]=[j.frg(),j.frg()],[p,b,h,m,g]=[{},{},{},{},{}];for(;e.childNodes.length;)j.apc(u,e.firstChild);j.qsA(u,"slot[name]:not([name=''])")[t.fE](e=>{let n=e[t.ga]("name");p[n]=cFg(e)}),j.apc(f,u),p.default=f,dA(e,m);let C=e.attributes;Array.from(C).length&&Array.from(C)[t.fE](e=>{let r;if("$"==e.name[0]){e.value==t.t?(r=n[o],o++):r=e.value,h[e.name.substring(1)]=r;return}e.value==t.t?(r=n[o],i&&c[e.name]&&(g[e.name]=r),o++):r=e.value,b[e.name]=r}),s(o);let w;!async function(){let n={props:b,data:m,binds:h,slots:p,slot:p.default},r={},s;if(i){Object.keys(b)[t.fE](e=>{c.includes(e)&&(r[e]=b[e],delete b[e])});let o=r[c[0]],f;o&&(is(o,"s")?f=j.ctN(o):is(o,"f")?f=o(n):isD(o)&&(f=o),j.rpw(l,f),w=f);try{is(r.src,"s")?s=await async(r.src,r.name||"default",r[c[5]])(n):is(r.src,"f")&&(s=await r.src(n))}catch(u){r[c[3]]&&j.rpw(l,r[c[3]](u)),is(r[c[5]],"f")&&r[c[5]](u);return}}else if(is(a,"f")){let g=await a(n);isD(g)?s=g:is(g,"f")?s=await g(n):is(g,"o")&&g.default&&(s=await g.default(n))}else s=a;if(!s){is(r[c[3]],"f")&&j.rpw(w||l,r[c[3]]());return}if(j.qs(s,"slot")&&j.rpw(j.qs(s,"slot"),p.default),j.qsA(s,"[slot]")[t.fE](e=>{j.apc(e,p[e[t.ga]("slot")]),j.ra(e,"slot")}),j.qs(s,"slot"))for(;j.qs(s,"slot");)j.rpw(j.qs(s,"slot"),p.default);Object.keys(h).length&&Object.keys(h)[t.fE](e=>{let n=s;if("on"==e.substring(0,2)){on(n,e,h[e]),n.removeAttribute(e);return}n[e.sa](e,h[e])}),w?j.rpw(w,s):j.rpw(e,s),r[c[1]]&&r[c[1]](s)}()}function error(e){if(A.w){let n=["#5f5","#ff5","#f52","#f31"];console.warn(`%cCHAINUS : ${e.ty} ${0==e.i||void 0==e.i?"Info":1==e.i?"Warning":(e.i>2?"Important ":"")+"Error!"} `,`background-color: ${n[e.i]};color:black ; font-weight: bolder;font-size:14px ; padding: 4px ;${e.i>1?"text-transform:uppercase;":""}`),console.log("%c"+e.w,`color:${n[e.i]};font-weight:bolder`),e.t&&console.log("%c"+e.t,"color:white")}}let cC=[],bC=[],id=0,lC=()=>cC[cC.length-1],sdb={m:j.S(),t:{w:!1,b:!1,wLs:j.nm()},rec(){sdb.t.w||(sdb.t.w=1),cC.push(j.nm())},stop(){let e=[...Array.from(cC.pop(),([e,n])=>({s:e,o:n}))];return cC.length||(sdb.t.w=0),e},init(e,n){e[dS]=HD(n),e[sdb.m]=!0},is:e=>is(e[dS],"f"),push(e,n){let r=sdb;r.is(e)?j.iA(n)?e[dS](hS,[...e[dS](hS),...n]):j.iA(e[dS](hS))?e[dS](hS,[...e[dS](hS),n]):e[dS](hS,[n]):j.iA(n)?r.init(e,[...n]):r.init(e,[n])},sub(e){if(sdb.is(e)){let n=e[dS](hS);if(n[0].CC){sdb.prp(n[0]);return}n[t.fE](e=>{if(D.has(e.s)){if(!j.iA(D.get(e.s)[e.v])){D.get(e.s)[e.v]=[e];return}}else{D.set(e.s,{}),D.get(e.s)[e.v]=[e];return}D.get(e.s)[e.v].length?D.get(e.s)[e.v].push(e):(D.set(e.s,{}),D.get(e.s)[e.v]=[e])})}},unsub(e){sdb.is(e)&&e[dS](hS)[t.fE](n=>{n.pre=!0;let r=D.get(n.s);r[n.v]=r[n.v].filter(n=>n.e!=e),r[n.v].length||delete r[n.v],Object.keys(r).length||D.delete(n.s)})},prep(e,n,r){r.length&&(sdb.init(e,[]),r[t.fE](r=>{r.o[t.fE](s=>{sdb.push(e,{...n,s:r.s,v:s,e})})}))},prp(e){if("s"==e.m){e.c(e.e);return}let n=e.c(e);if(n!==t.U){if("a"==e.m)e.e[t.ga](e.a)!=n&&e.e[t.sa](e.a,n);else if("e"==e.m){if(isTN(e.e)||isD(n))isTN(e.e)&&!isD(n)?e.e[t.nV]!=n&&(e.e[t.nV]=n):isTN(e.e)&&isTN(n)?e.e[t.nV]!=n[t.nV]&&(e.e[t.nV]=n[t.nV]):isTN(e.e)&&isD(n)?(j.rpw(e.e,n),e.e=n):isD(e.e)&&isD(n)&&!e.e.isEqualNode(n)&&(j.rpw(e.e,n),e.e=n);else{let r=j.ctN(n);j.rpw(e.e,r),e.e=r}}}},proc(e,n){D.get(e)&&D.get(e)[n]&&D.get(e)[n][t.fE](e=>{sdb.t.b?bC.push(e):sdb.prp(e)})}};function S(e){let n=j.iA(e),r=j.i(),s=e?n?[...e]:{...e}:{};return Object.entries(s)[t.fE](([e,n])=>{is(n,"o")&&(s[e]=S(n))}),s=new Proxy(s,{get(e,n){if(n==SGS)return r;if(!is(e[n],"o")&&sdb.t.w){var s,i;let l=lC(),o;l.get(r)?(s=l.get(r),i=n,s.includes(i)||s.push(i)):l.set(r,[n])}return e[n]},set(e,s,i){if(e[s]===e.U&&is(i,"o"))return e[s]=S(i),e[s];if(is(e[s],"o")&&is(i,"o"))return delete e[s],e[s]=S(i),e[s];let l=e[s]!==i;return(n||l)&&(e[s]=i,sdb.proc(r,s)),1},deleteProperty:(e,s)=>(n?(e.splice(s,1),sdb.proc(r,"length")):delete e[s],1)})}function state(e){let n=e,r=j.i(),s;function i(){if(sdb.t.w){var e,s;let i=lC(),l;i.get(r)?(e=i.get(r),s="*",e.includes(s)||e.push(s)):i.set(r,["*"])}return n}return i.id=r,i.callback=e=>{is(e,"f")?s=e:error({ty:"State Callback Set",i:1,w:"Please provide a valid function for the callback to be executed on state changes."})},i.trigger=()=>{sdb.proc(r,"*")},[i,function e(l){var o;let a=n;return(o=is(l,"f")?l(n):l)!==n&&(n=o,i.trigger(),s&&s({id:r,before:a})),n}]}function kY(e,n){let r=j.qsA(e,"*"),s=0,i=e=>s=e;[e,...r][t.fE](r=>{if("async-component"==j.tN(r))sAp(r,n,s,i,!0);else if("named-element"==j.tN(r)){let l=Elements,o=e=>r.attributes.getNamedItem(e);if(o("set"))l.set(o("set").value,cFg(r)),r.remove();else if(o("get")&&l.get(o("get").value)){let a=l.get(o("get").value);o("clone")&&(a=a.cloneNode(!0)),j.rpw(r,a)}else error({ty:"Named Element Get",i:1,w:'"'+o("get").value+'"Element name not specified.'})}else if(CM.has(j.tN(r))){sAp(r,n,s,i);return}else"a_"==j.tN(r)?(rT(r,n[s],"replace",e),s++):Array.from(r.attributes)[t.fE](i=>{let l=i.name;if(i.value==t.t){if("data"==l)is(n[s],"o")?(r[CDs]=HD(n[s]),j.ra(r,l)):error({i:3,ty:"Data Provider Set",w:"The data provider specified for the element must be an object."});else if("onsee"==l)is(n[s],"f")?setLazy(r,{callback:n[s],threshold:r[t.ga]("threshold")||0}):error({w:2,ty:"Intersection Callback Set",w:"You should define a callback function for Lazyload or any intersection event."}),j.ra(r,l);else if("on"==l.substring(0,2))"onconnect"==l||"onremove"==l?"onconnect"==l?L(1)(r,n[s]):L()(r,n[s]):on(r,l,n[s]),j.ra(r,l);else if("use"==l)is(n[s],"f")&&(n[s](r),j.ra(r,l));else if("sync"==l){sdb.rec(),n[s](r);let o=sdb.stop(),a={c:n[s],e:r,m:"s",parent:e,CC:0,data:{},id:id++};dA(a.data),sdb.prep(r,a,o,e),j.ra(r,l)}else if(is(n[s],"f")){sdb.rec();let c=n[s],f={m:"a",a:l,c:c,e:r,parent:e,CC:0,data:{},id:id++};dA(r,f.data);let u=c(f);r[t.sa](l,u||""),sdb.prep(r,f,sdb.stop(),e)}else r[t.sa](l,n[s]);s++}})})}function rT(e,n,r,s){let i=j.frg();if(isD(n))j.apc(i,n);else if(j.iA(n))n[t.fE](e=>{if(!is(e,"u")&&null!=e){let n;is(e,"s")||is(e,"n")?(n=j.dce("p")).textContent=e:isD(e)?n=e:j.iA(e)&&(n=j.frg(),j.apc(i,n),rT(n,e,t.apc,s)),j.apc(i,n)}});else if(is(n,"f")){if("AsyncFunction"===n[Symbol.toStringTag]){let l=j.dce("span");async function o(){var e=await n();isD(e)?j.rpw(l,e):j.rpw(l,j.ctN(e))}j.apc(i,l),o()}else{sdb.rec();let a={parent:s,c:n,m:"e",e:null,s:null,CC:0,data:{},id:id++};dA(e,a.data);let c=n(a),f,u;f=isD(c)?c:j.ctN(c!==t.U?c:"");let p=sdb.stop();j.iA(p)&&p.length?(u=f,a.e=u,sdb.prep(u,a,p)):(u=j.frg(),j.apc(u,f)),j.apc(i,u)}}else is(n,"o");"replace"==r?j.rpw(e,i):(r==t.apc||r===t.U)&&j.apc(e,i)}function setLazy(e,n){let r=new IntersectionObserver(s=>{s[t.fE](s=>{s.isIntersecting&&(n.callback(e),(is(n.once,"u")||n.once)&&(r.disconnect(),r=null))})},{threshold:n.threshold||0,...n});r.observe(e)}function pr(e){e[dS]&&(e[dS](hS)[t.fE](e=>{if(1==e.CC){e.CC=0;return}}),sdb.prp(e[dS](hS)[0]))}function d(e){e[dS]&&e[dS](hS)[t.fE](e=>{0==e.CC&&(e.CC=1)})}let ob=new MutationObserver(e=>{for(let n of e)if("childList"===n.type){let r=Array.from(n.addedNodes),s=Array.from(n.removedNodes);r[t.fE](e=>{let n=ctw(e);for(A.oc&&(sub(e,1),isD(e)&&j.qsA(e,"*")[t.fE](e=>{sub(e,1)})),sdb.sub(e),pr(e);n.nextNode();){let r=n.currentNode;sdb.sub(r),pr(r)}}),s[t.fE](e=>{let n=ctw(e);for(A.od&&(sub(e),isD(e)&&j.qsA(e,"*")[t.fE](e=>{sub(e)})),sdb.unsub(e),d(e);n.nextNode();)sdb.unsub(n.currentNode),d(n.currentNode)})}});ob.observe(document,{childList:!0,subtree:!0});let onRemove=L(),onConnect=L(1),Components=CM,setComponent=sC,createStore=S,createId=j.i;export{html,Mount,onConnect,onRemove,Components,setLazy,setComponent,createStore,createElement,async,createId,state,untrack,Effect,batch};