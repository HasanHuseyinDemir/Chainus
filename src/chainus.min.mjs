let A={w:!0,rF:{},i:-1,oc:0,od:0,open:0},t={f:"function",s:"string",b:"boolean",n:"number",o:"object",u:"undefined",sa:"setAttribute",ga:"getAttribute",apc:"appendChild",fE:"forEach",lc:"toLowerCase",h:"#!?S?!#",t:"<a_></a_>",rA:"replaceAll",U:void 0,nV:"nodeValue"},j={apc(e,s){e[t.apc](s)},rpw(e,s){e.replaceWith(s)},ctN:e=>document.createTextNode(e),frg:()=>document.createDocumentFragment(),dce:e=>document.createElement(e),nm:()=>new Map,wm:()=>new WeakMap,qs:(e,s)=>e.querySelector(s),qsA:(e,s)=>e.querySelectorAll(s),tcC(e){e.textContent=""},ra(e,s){e.removeAttribute(s)},hop:(e,s)=>e.hasOwnProperty(s),iA:e=>Array.isArray(e),S:()=>Symbol(),i:()=>(A.i+=1,`_${A.i}_`),tN:e=>e.tagName[t.lc]()},D=j.nm(),[mS,hS,dS,CDs,SGS]=[j.S(),j.S(),j.S(),j.S(),j.S()],[CM,Elements]=[j.nm(),j.nm()],is=(e,s)=>typeof e==t[s],isTN=e=>e&&3===e.nodeType,sC=(e,s)=>{is(e,"s")&&is(s,"f")?CM.set(e[t.lc](),s):error({i:2,ty:"Component Setting",w:"Please use a string value as the name in the first parameter when specifying a component, and provide a function that creates the element."})},isD=e=>e instanceof Element||e instanceof HTMLElement||e instanceof DocumentFragment,L=e=>(s,n)=>{s[mS]||(s[mS]=HD({lf:{oC:null,oD:null}}));let r=e?"oC":"oD";A[e?"oc":"od"]=1,is(n,"f")&&(s[mS](hS).lf[r]=n)},ctw=e=>document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,null,!1),createElement=e=>document.createRange().createContextualFragment(e);function on(e,s,n){let r={};dA(e,r),e.addEventListener(s.substring(2),()=>n(e,r))}function dA(e,s){SP(e,CDs,1)[t.fE](e=>Object.assign(s,e[CDs](hS)))}function nM(e){let s=e,n=s.split("/>").length-1,r=0;for(;n>r;){let i=s.search("/>")-1,l=0,o="";for(;i-l>=-1;){if("<"==s.charAt(i-l)){let a=(o=o.split("").reverse().join("")).split(" ")[0],c=`<${a} ${o.replace(a,"")||""}></${a}>`;s=s.slice(0,i-l)+c+s.slice(i+3,s.length),r++,i="",l=0,o=""}else o+=s.charAt(i-l);l++}}return s}function HD(e){let s={...e};return(e,n)=>(function e(n,r){if(A.open||n===hS)return r&&(s=r),s;error({ty:"Access",i:2,w:"Unable to access data"})})(e,n)}function rP(e){let s=e[t.rA]("<>","<div>")[t.rA]("</>","</div>");return(s=s.includes("/>")?nM(s):s)[t.rA](/\{\.\#\!\}/g,t.t)}function iE(e,s){let n=[...s],r=e.reduce((e,s,r)=>{let i=s,l=n[r];return l!==t.U&&(is(l,"s")||is(l,"n")?(i+=l,n[r]=t.U):i+="{.#!}"),e+i},"");n=n.filter(e=>e!=t.U);let i=createElement(rP(r)).firstElementChild;return kY(i,n,i),i}function html(e,...s){return iE(e,[...s])}function sub(e,s){if(e[mS]){let n=s?"oC":"oD";e[mS]&&is(e[mS](hS).lf[n],"f")&&e[mS](hS).lf[n]()}}function SP(e,s,n){let r=e,i=[];for(;r&&r!==document.body&&r.parentNode;){if(r[s]){if(!n)return r;i.push(r)}r=r.parentNode}return n?i:null}HTMLElement.prototype.ref=function(e,s){let n=j.qsA(this,`[ref='${e}']`);return s&&n[t.fE](e=>j.ra(e,"ref")),Array.from(n).length>1?n:n[0]};let cFg=e=>{let s=j.frg();for(;e.childNodes.length;)j.apc(s,e.firstChild);return s},Mount=(e,s,n)=>{let r=is(s,"f")?s(n):s,i=e=>{e.firstChild!==s&&(j.tcC(e),j.apc(e,r))};is(e,"s")?j.qsA(document,e)[t.fE](e=>{i(e)}):isD(e)?i(e):error()};function untrack(e){sdb.rec();let s=e();return sdb.stop(),s}function UC(e){return e.filter((e,s,n)=>n.findIndex(s=>s.c==e.c)==s)}function batch(e){bC=[],sdb.t.b=1,e(),sdb.t.b=0;UC(bC)[t.fE](e=>sdb.prp(e)),bC=[]}function Effect(e,s){return e&&s?function n(){return s(),untrack(()=>e())}:e||void 0}function async(e,s,n){return async function(r){if(!A.rF[e])try{let i=await import(e);A.rF[e]={},Object.assign(A.rF[e],i)}catch(l){n?n(l):error({ty:"Promise",w:"Cannot reach the asynchronous module\nURL : '"+e+"'",t:"Enter a valid URL",i:2});return}let o=A.rF[e][s||"default"];return is(o,"f")?o(r):o}}function sAp(e,s,n,r,i){let l=e,o=n,a=CM.get(j.tN(e)),c=["fallback","onload","src","default","name","onfail"],[f,d]=[j.frg(),j.frg()],[u,p,b,h,g]=[{},{},{},{},{}];for(;e.childNodes.length;)j.apc(d,e.firstChild);j.qsA(d,"slot[name]:not([name=''])")[t.fE](e=>{let s=e[t.ga]("name");u[s]=cFg(e)}),j.apc(f,d),u.default=f,dA(e,h);let m=e.attributes;Array.from(m).length&&Array.from(m)[t.fE](e=>{let n;if("$"==e.name[0]){e.value==t.t?(n=s[o],o++):n=e.value,b[e.name.substring(1)]=n;return}e.value==t.t?(n=s[o],i&&c[e.name]&&(g[e.name]=n),o++):n=e.value,p[e.name]=n}),r(o);let w;!async function(){let s={props:p,data:h,binds:b,slots:u,slot:u.default},n={},r;if(i){Object.keys(p)[t.fE](e=>{c.includes(e)&&(n[e]=p[e],delete p[e])});let o=n[c[0]],f;o&&(is(o,"s")?f=j.ctN(o):is(o,"f")?f=o(s):isD(o)&&(f=o),j.rpw(l,f),w=f);try{is(n.src,"s")?r=await async(n.src,n.name||"default",n[c[5]])(s):is(n.src,"f")&&(r=await n.src(s))}catch(d){is(n[c[3]],"f")&&j.rpw(l,n[c[3]](d)),is(n[c[5]],"f")&&n[c[5]](d);return}}else if(is(a,"f")){let g=await a(s);isD(g)?r=g:is(g,"f")?r=await g(s):is(g,"o")&&g.default&&(r=await g.default(s))}else r=a;if(!r){is(n[c[3]],"f")&&j.rpw(w||l,n[c[3]]());return}if(j.qs(r,"slot")&&j.rpw(j.qs(r,"slot"),u.default),j.qsA(r,"[slot]")[t.fE](e=>{j.apc(e,u[e[t.ga]("slot")]),j.ra(e,"slot")}),j.qs(r,"slot"))for(;j.qs(r,"slot");)j.rpw(j.qs(r,"slot"),u.default);Object.keys(b).length&&Object.keys(b)[t.fE](e=>{let s=r;if("on"==e.substring(0,2)){on(s,e,b[e]),s.removeAttribute(e);return}s[e.sa](e,b[e])}),w?j.rpw(w,r):j.rpw(e,r),n[c[1]]&&n[c[1]](r)}()}function error(e){if(A.w){let s=["#5f5","#ff5","#f52","#f31"];console.warn(`%cCHAINUS : ${e.ty} ${0==e.i||void 0==e.i?"Info":1==e.i?"Warning":(e.i>2?"Important ":"")+"Error!"} `,`background-color: ${s[e.i]};color:black ; font-weight: bolder;font-size:14px ; padding: 4px ;${e.i>1?"text-transform:uppercase;":""}`),console.log("%c"+e.w,`color:${s[e.i]};font-weight:bolder`),e.t&&console.log("%c"+e.t,"color:white")}}let cC=[],bC=[],id=0,lC=()=>cC[cC.length-1],sdb={m:j.S(),t:{w:!1,b:!1,wLs:j.nm()},rec(){sdb.t.w||(sdb.t.w=1),cC.push(j.nm())},stop(){let e=[...Array.from(cC.pop(),([e,s])=>({s:e,o:s}))];return cC.length||(sdb.t.w=0),e},init(e,s){e[dS]=HD(s),e[sdb.m]=!0},is:e=>is(e[dS],"f"),push(e,s){let n=sdb;n.is(e)?j.iA(s)?e[dS](hS,[...e[dS](hS),...s]):j.iA(e[dS](hS))?e[dS](hS,[...e[dS](hS),s]):e[dS](hS,[s]):j.iA(s)?n.init(e,[...s]):n.init(e,[s])},sub(e){sdb.is(e)&&e[dS](hS)[t.fE](e=>{if(D.has(e.s)){if(j.iA(D.get(e.s)[e.v]))D.get(e.s)[e.v].length?D.get(e.s)[e.v].push(e):(D.set(e.s,{}),D.get(e.s)[e.v]=[e]);else{D.get(e.s)[e.v]=[e];return}}else{D.set(e.s,{}),D.get(e.s)[e.v]=[e];return}})},unsub(e){sdb.is(e)&&e[dS](hS)[t.fE](s=>{if(D.has(s.s)){let n=D.get(s.s);n[s.v]=n[s.v].filter(s=>s.e!=e),n[s.v].length||delete n[s.v],Object.keys(n).length||D.delete(s.s)}})},prep(e,s,n){n.length&&(sdb.init(e,[]),n[t.fE](n=>{n.o[t.fE](r=>{sdb.push(e,{...s,s:n.s,v:r,e})})}))},prp(e){function s(s){e.e&&isD(e.e)&&e.e[dS]&&isD(s)&&e.e[dS](hS).length&&(s[dS]=HD(),s[dS](hS,[...e.e[dS](hS)]))}if("s"==e.m){e.c(e.e);return}let n=e.c(e);if(n!==t.U){if("a"==e.m)e.e[t.ga](e.a)!=n&&e.e[t.sa](e.a,n);else if("e"==e.m){if(isTN(e.e)||isD(n))isTN(e.e)&&!isD(n)?(e.e[t.nV]!=n&&(e.e[t.nV]=n),s(n)):isTN(e.e)&&isTN(n)?(e.e[t.nV]!=n[t.nV]&&(e.e[t.nV]=n[t.nV]),s(n)):isTN(e.e)&&isD(n)?(j.rpw(e.e,n),s(n),e.e=n):isD(e.e)&&isD(n)&&!e.e.isEqualNode(n)&&(j.rpw(e.e,n),s(n),e.e=n);else{let r=j.ctN(n);j.rpw(e.e,r),s(r),e.e=r}}}},proc(e,s,n){D.get(e)&&D.get(e)[s]&&D.get(e)[s][t.fE](e=>{sdb.t.b?bC.push(e):sdb.prp(e,n)})}};function S(e){let s=j.iA(e),n=j.i(),r=0,i=e?s?[...e]:{...e}:{};Object.entries(i)[t.fE](([e,s])=>{is(s,"o")&&(i[e]=S(s))});let l={};function o(){Object.keys(l).forEach(e=>{D.has(n)&&j.iA(D.get(n)[e])&&D.get(n)[e].forEach((s,n)=>{s.index!=n[e]&&(s.index=n[e],sdb.proc(s[n],n[e]))})})}return i=new Proxy(i,{get(e,s){if(s==SGS)return n;if(!is(e[s],"o")&&sdb.t.w){var r,i;let l=lC(),a;l.get(n)?(r=l.get(n),i=s,r.includes(i)||r.push(i)):l.set(n,[s])}else o();return e[s]},set(e,i,a){var c;if(l[c=i]==t.U&&(l[c]=0),void 0===e[i]&&is(a,"o"))return e[i]=S(a),e[i];if(is(e[i],"o")&&is(a,"o"))return delete e[i],l[i]&&delete l[i],e[i]=S(a),e[i];let f=e[i]!==a;return(s||f)&&(l[i]++,e[i]=a,e[i]?sdb.proc(n,i,l[i]):sdb.proc(n,i,r++),o()),1},deleteProperty:(e,r)=>(s?(l[r]++,e.splice(r,1),sdb.proc(n,"length",l[r]),void 0!==l[r]&&delete l[r]):delete e[r],1)})}function state(e){let s=e,n=0,r=j.i(),i;function l(){if(sdb.t.w){var e,n;let i=lC(),l;i.get(r)?(e=i.get(r),n="*",e.includes(n)||e.push(n)):i.set(r,["*"])}return s}return l.id=r,l.index=n,l.callback=e=>{is(e,"f")?i=e:error({ty:"State Callback Set",i:1,w:"Please provide a valid function for the callback to be executed on state changes."})},l.trigger=()=>{n++,sdb.proc(r,"*",n)},[l,function e(n){var o;let a=s;return(o=is(n,"f")?n(s):n)!==s&&(s=o,l.trigger(),i&&i({id:r,before:a})),s}]}function kY(e,s){let n=j.qsA(e,"*"),r=0,i=e=>r=e;[e,...n][t.fE](n=>{if("async-component"==j.tN(n))sAp(n,s,r,i,!0);else if("named-element"==j.tN(n)){let l=Elements,o=e=>n.attributes.getNamedItem(e);if(o("set"))l.set(o("set").value,cFg(n)),n.remove();else if(o("get")&&l.get(o("get").value)){let a=l.get(o("get").value);o("clone")&&(a=a.cloneNode(!0)),j.rpw(n,a)}else error({ty:"Named Element Get",i:1,w:'"'+o("get").value+'" Element name not specified.'})}else if(CM.has(j.tN(n))){sAp(n,s,r,i);return}else"a_"==j.tN(n)?(rT(n,s[r],"replace",e),r++):Array.from(n.attributes)[t.fE](i=>{let l=i.name;if(i.value==t.t){if("data"==l)is(s[r],"o")?(n[CDs]=HD(s[r]),j.ra(n,l)):error({i:3,ty:"Data Provider Set",w:"The data provider specified for the element must be an object."});else if("onsee"==l)is(s[r],"f")?setLazy(n,{callback:s[r],threshold:n[t.ga]("threshold")||0}):error({w:2,ty:"Intersection Callback Set",w:"You should define a callback function for Lazyload or any intersection event."}),j.ra(n,l);else if("on"==l.substring(0,2))"onconnect"==l||"onremove"==l?"onconnect"==l?L(1)(n,s[r]):L()(n,s[r]):on(n,l,s[r]),j.ra(n,l);else if("use"==l)is(s[r],"f")&&(s[r](n),j.ra(n,l));else if("sync"==l){sdb.rec(),s[r](n);let o=sdb.stop(),a={c:s[r],e:n,m:"s",parent:e,data:{},id:id++,index:0};dA(a.data),sdb.prep(n,a,o,e),j.ra(n,l)}else if(is(s[r],"f")){sdb.rec();let c=s[r],f={m:"a",a:l,c:c,e:n,parent:e,data:{},id:id++,index:0};dA(n,f.data);let d=c(f);n[t.sa](l,d||""),sdb.prep(n,f,sdb.stop(),e)}else n[t.sa](l,s[r]);r++}})})}function rT(e,s,n,r){let i=j.frg();if(isD(s))j.apc(i,s);else if(j.iA(s))s[t.fE](e=>{if(!is(e,"u")&&null!=e){let s;is(e,"s")||is(e,"n")?(s=j.dce("p")).textContent=e:isD(e)?s=e:j.iA(e)&&(s=j.frg(),j.apc(i,s),rT(s,e,t.apc,r)),j.apc(i,s)}});else if(is(s,"f")){if("AsyncFunction"===s[Symbol.toStringTag]){let l=j.dce("span");async function o(){var e=await s();isD(e)?j.rpw(l,e):j.rpw(l,j.ctN(e))}j.apc(i,l),o()}else{sdb.rec();let a={parent:r,c:s,m:"e",e:null,s:null,data:{},id:id++,index:0};dA(e,a.data);let c=s(a),f,d;f=isD(c)?c:j.ctN(c!==t.U?c:"");let u=sdb.stop();j.iA(u)&&u.length?(d=f,a.e=d,sdb.prep(d,a,u)):(d=j.frg(),j.apc(d,f)),j.apc(i,d)}}else is(s,"o");"replace"==n?j.rpw(e,i):(n==t.apc||n===t.U)&&j.apc(e,i)}function setLazy(e,s){let n=new IntersectionObserver(r=>{r[t.fE](r=>{r.isIntersecting&&(s.callback(e),(is(s.once,"u")||s.once)&&(n.disconnect(),n=null))})},{threshold:s.threshold||0,...s});n.observe(e)}function pr(e){e[dS]&&UC(e[dS](hS))[t.fE](e=>{sdb.prp(e)})}window.D=D;let ob=new MutationObserver(e=>{for(let s of e)if("childList"===s.type){let n=Array.from(s.addedNodes),r=Array.from(s.removedNodes);n[t.fE](e=>{let s=ctw(e);for(A.oc&&(sub(e,1),isD(e)&&j.qsA(e,"*")[t.fE](e=>{sub(e,1)})),sdb.sub(e),pr(e);s.nextNode();){let n=s.currentNode;e!=n&&(sdb.sub(n),pr(n))}}),r[t.fE](e=>{let s=ctw(e);for(A.od&&(sub(e),isD(e)&&j.qsA(e,"*")[t.fE](e=>{sub(e)})),sdb.unsub(e);s.nextNode();)sdb.unsub(s.currentNode)})}});ob.observe(document,{childList:!0,subtree:!0});let onRemove=L(),onConnect=L(1),Components=CM,setComponent=sC,createStore=S,createId=j.i;export{html,Mount,onConnect,onRemove,Components,setLazy,setComponent,createStore,createElement,async,createId,state,untrack,Effect,batch};